# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    todo                                               :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: ibouchla <marvin@42.fr>                    +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2016/12/04 22:07:51 by ibouchla          #+#    #+#              #
     Updated: 2016/12/06 06:01:47 by malaine          ###   ########.fr         
#                                                                              #
# **************************************************************************** #
______________
	RESOLU
______________

	| RESOLU |	-	L' historique affiche des caracteres chelou apres une commande de plusieurs ligne suite a un oubli de quote.

	| RESOLU |	-	echo "test"jacky doit renvoyer : 'testjacky' et non 'test jacky'
					la commande dois etre pris comme un seul argument meme avec la presence des quotes.

	| RESOLU |	-	lancer la commande ".." suivi d'un ctrl + C
					(pas due exclusivement a la commande ".." mais a toute les commandes qui renvois "execve: Permission denied").

	| RESOLU |	-	"mkdir test ; cd test ; ls -a ; ls | cat | wc -c > fifi ; cat fifi"
					Ne donne pas le resultat attendu dans le sujet.

	| RESOLU |	-	unsetenv / setenv PATH ne produit aucun comportement
					(C'est peut etre juste les modifs d'anis sur l'exec des builtins).

	| RESOLU |	-	"ls ||||"
					Nous avons x3 "21sh: Invalid null command" mais 'ls' est executer.
					Bash lui n'execute pas le 'ls' et nous affiche "syntax error".

	| RESOLU |	-	"base64 /dev/urandom | head -c 1000 | grep 42 | wc -l | sed -e 's/1/Yes/g' -e 's/0/No/g'"
					Le resultat ne sort jamais obliger de ctrl + c
					Le comportement avait ete reproduis en executant dans le 21sh un ./a.out qui segfault volontairement.

	| RESOLU |	-	"cat -e << EOF"
					Nous entrons dans heredoc, ecrivez quelque chose.
					Appuyez sur ENTREE --> Segmentation Fault.

	| RESOLU |	-	JB : après avoir entré cette commande: "glob '*' 'ok' '" le shell va nous proposer de fermer le ' ouvert, puis commande executer, tout est normal...
					Mais apres l'history affiche un truc random (ou une ligne vide).
					Serait il possible de remplacer les \n par des espaces tout simplement? ou un "\\n"
	| RESOLU |	-	Ctrl + d
					Si on est sur un char il est supprimer.
					Sinon comportement normal.

______________
	BUGS
______________
				[TEST FAIT SUR LA DERNIERE VERSION]
				[BEGIN]

					-	cmd : "ok======================sadasdasdasd=asd=as=das=d==asd=asd=as=d||||||||||||ASDasdasd>>>>>>>>>>>>"
						Beaucoup d'invalid command au lieu d'un

					-	cmd : "history -c" ensuite rechercher dans l historique avec les fleche ---> SEGFAULT
					
					-	| RESOLU | cmd : "ls |ls" acffiche deux fois ls bug seulement quand le pipe est cole a la deuxieme commande
					  	(ne bug pas qu avec "ls", meme erreur avec "echo |echo" et parfois ca SEGFAULT
					
					-	| RESOLU | cmd : "ls |wc" bug ne kill pas le fils mais surement dut au meme probleme qu au dessus le pipe qui est cole

					-	cmd : "cat" suivit d un ctrl + c affiche 2 fois le prompt

					-	| RESOLU | cmd : "ls |" execute toujours le ls (on devrais se servir de la fonction quote addapter pour les pipe non ?)

					-	cmd : "setenv "untruclong 66;echo untruclong" donne "66truclong" bug toujours present

					-	| RESOLU | cmd : "echo ;;;;;;;" ------> SEGFAULT

					-	cmd : "alias e=emacs" suivit de "e jacky" ----> "21sh: command not found: e" 
						mais si on fait "alias" les alias saisi sont bien present.

					-	lancer un 21sh dans un 21sh kill le deuxieme, la boucle ignore le signal mais si on ctrl+c ca bug						

					- 	cmd : "cat $LC_CTYPE"
                    	En repetant 3/4 fois l'operation nous avons des caracteres aleatoires et fait freeze le shell

					-	cmd : ".." reaffiche le prompt mais n affiche "command not found : .."

					
				[COMMENT : test fait a 6h je me pointe au plus vite cette aprem pr venir vous aidez a les corriger mais la je vais dormir]
				[END]
								
				-	"alias "ls= ls - lah | cat -e""
					print bien ls= command unknow
					mais va quand meme faire un pipe cat -e

				-	lancer quatres ./21sh.
					Faire un kill sur les PID des deux 21sh du milieu.
					Nous avons un comportement indefinis sur l'edition de ligne de cmd.

				-	alias "l= ls -lah | cat -e"
					Envoi "|" "cat" et "-e" en option au ls au lieu de faire un pipe

______________
	LEAKS
______________

				[TEST FAIT SUR LA DERNIERE VERSION]
                [BEGIN]

					- rechercher une commande dans l historique avec les fleche vouloir l editer ---> 1 leaks;
					
					-	ls | wc > toto;

				[END]
				-	alias var=foo;
					alias var=foo2;
					C'est ma partie je m'en occupe

	| RESOLU |	-	Ctrl + R et taper ls pour retrouver la commande.

	| RESOLU |	-	Appuyer sur ENTREE pour valider une commande ou une ligne vide.

	| RESOLU |	-	Fleche du haut, puis ENTREE.

______________
	TODO
______________

				-	aggrégations de descripteurs de fichiers ( ex: "cat file_no_exists 2>&-" )

				-	Finir la norme sur tout les fichiers du projet et de la libft.

				-	CHECKER LES APPELLES DE FONCTION INTERDIT AVEC NM (strlen, printf, strdup...)

				-	Appeller ma fonction de hash avant l'exec
					pour le moment elle est juste creer.

______________
	BONUS
______________

				-	Syteme d'Alias

				-	Caracteres de controles du builtin echo

				-	Autocompletion

				-	Execution des commandes de maniere asynchrone

				-	Builtin 42info

____________________
	COMMENTAIRE
____________________

				-	Listing des bonus realises

				-	Nous en sommes a l'etape de la detection / resolution des bugs / leaks

___________________
	NORMINETTE
___________________

 /*
 **		Je corrige toutes les fautes de normes sauf les fonctions de +25 lignes / +5 fonctions
 **		Si une fonction est listee ici, je n' ai pas reussi a la normer ou
 **		j'ai peut etre mis des commentaires dessus pour vous aider a la mettre a la norme
 */
 			
				_______________
					BUILTIN
				_______________

				-	builtin/bi_42info.c = je ne sais pas pourquoi on a des bad indentation

				-	builtin/bi_env.c = juste un commentaire de JB a voir ce qu'il en fait

				________________
					AUTOCOMP
				________________

 				-	autocomp/autocomp_utils_1.c = 12 fonctions et d'autres trucs

				________________
					GLOBING
				________________

				-	glob/gbrace.c = 6 fonctions dans le fichier et la fonction insert_in_arr fait 28 lignes

				-	glob/globexec.c = 6 variable et 30 lignes dans la derniere fonction

				-	glob/globexec2.c = 26 lignes dans finder_s_j_soj

				-	glob/glob_gparse2.c = 6 fonctions dans le fichier, ligne 49-50, 55 et 100 je ne vois pas comment raccourcir.

				-	glob/glob_gparse.c	= 26 lignes dans parse_glob_globbing

				________________
					LINE EDIT
				________________

				-	line_edition/ft_init_line.c = juste un commentaire a enlever si plus besoin.

				________________
					 OTHER
				________________

				-	other/main.c = 9 fonctions et handle_var fait 44 lgnes.
					l_env etant une globale devrait etre g_env sauf qu'elle existe deja.

				-	other/garbage_collector.c = 9 fonctions dans le fichier

				-	other/storage_new_var = 26 lignes dans la fonction check_if_key_exists je n'arrive pas a la raccourcir

				-	other/storage_all_cmd.c timeout
